@(model: models.profile.IndexModel)(implicit header: MenuModel)

@import play.api.libs.json.Json

@extraScripts = {
  <script src="@routes.Assets.at("javascripts/knockout.min.js")"></script>
  <script src="@routes.Assets.at("javascripts/ajax.js")"></script>
  <script src="@routes.Assets.at("javascripts/views/profile/ProfileRepository.js")"></script>
  <script>
    var profile = profile || {};
    profile.index = profile.index || {};
    profile.index.data = @Html(Json.toJson(model).toString) || {};
  </script>
  <script src="@routes.Assets.at("javascripts/views/profile/IndexModel.js")"></script>
}

@views.html.profile.profileTemplate("Profile", extraScripts = extraScripts) {
	<div class="panel panel-default" style="display: none;" data-bind="visible: true">
		<div class="panel-heading">
			<h4>Manage Profile</h4>
		</div>
		<div class="panel-body">
      <!-- ko if: profileIsNowPlayer -->
      <div class="alert alert-success">
        <p data-bind="profileIsNowPlayerMessage"></p>
      </div>
      <!-- /ko -->

      <!-- ko ifnot: profileIsPlayer -->
      <form role="form">
        <div class="form-group alert alert-info">
          <h5>You are not currently an IDL player, would you like to become one?</h5>
          <button class="btn btn-primary" data-bind="click: makeProfilePlayer">Yes Please</button>
        </div>
      </form>
      <!-- /ko -->
      <!-- ko if: profileIsPlayer -->
      <p>Welcome Player</p>
      <!-- /ko -->
		</div>
	</div>
}
